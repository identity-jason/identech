<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>Tricky Permissions / When MPR go bad - Identity Technology (again)</title><meta name="description" content="I’ve reached that special time of the project when it’s time to kick the tyres and test things before releasing&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://github.com/identity-jason/identech/tricky-permissions-when-mpr-go-bad/"><link rel="alternate" type="application/atom+xml" href="https://github.com/identity-jason/identech/feed.xml"><link rel="alternate" type="application/json" href="https://github.com/identity-jason/identech/feed.json"><meta property="og:title" content="Tricky Permissions / When MPR go bad"><meta property="og:site_name" content="Identity Technology (again)"><meta property="og:description" content="I’ve reached that special time of the project when it’s time to kick the tyres and test things before releasing&hellip;"><meta property="og:url" content="https://github.com/identity-jason/identech/tricky-permissions-when-mpr-go-bad/"><meta property="og:type" content="article"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://github.com/identity-jason/identech/assets/css/fontawesome-all.min.css?v=bbcde81f26378440dac4c3d195714389"><link rel="stylesheet" href="https://github.com/identity-jason/identech/assets/css/style.css?v=dd2f5302461b6031e60971f8134aab44"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://github.com/identity-jason/identech/tricky-permissions-when-mpr-go-bad/"},"headline":"Tricky Permissions / When MPR go bad","datePublished":"2013-03-20T20:28","dateModified":"2022-01-09T11:32","description":"I’ve reached that special time of the project when it’s time to kick the tyres and test things before releasing&hellip;","author":{"@type":"Person","name":"identity_jason"},"publisher":{"@type":"Organization","name":"identity_jason"}}</script></head><body class="is-preload"><div id="wrapper"><div id="main"><div class="inner"><header id="header"><a class="logo" href="https://github.com/identity-jason/identech/"><strong>Identity Technology (again)</strong></a></header><article class="post"><header class="main post__header"><time datetime="2013-03-20T20:28" class="post__date">March 20, 2013</time><h1>Tricky Permissions / When MPR go bad</h1></header><div class="post__inner post__entry"><p align="justify">I’ve reached that special time of the project when it’s time to kick the tyres and test things before releasing an update onto the unsuspecting client and as I’m going back through the test scripts using a number of user accounts was very surprised when one of my RCDC suddenly stopped allowing me to add or remove values to one of my attributes – not by blocking access to the identity picker or locking it to prevent it from being edited, but by throwing an ‘Unable to process your request’ error once you’ve clicked Ok to complete the change.</p><p><a href="http://identitytechnology.net/wp-content/uploads/2013/03/image.png"><img loading="lazy" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="image" alt="image" src="https://github.com/identity-jason/identech/media/posts/31/image_thumb.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb-xs.png 300w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb-sm.png 480w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb-md.png 768w" width="503" height="360" border="0"></a></p><p align="justify">Naturally I checked the various Requests and could see a Denied Status along with the MPR that was correctly firing to give me the results.</p><p><a href="http://identitytechnology.net/wp-content/uploads/2013/03/image1.png"><img loading="lazy" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="image" alt="image" src="https://github.com/identity-jason/identech/media/posts/31/image_thumb1.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb1-xs.png 300w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb1-sm.png 480w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb1-md.png 768w" width="600" border="0"></a></p><p><a href="http://identitytechnology.net/wp-content/uploads/2013/03/image2.png"><img loading="lazy" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="image" alt="image" src="https://github.com/identity-jason/identech/media/posts/31/image_thumb2.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb2-xs.png 300w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb2-sm.png 480w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb2-md.png 768w" width="600" border="0"></a></p><p>Once I checked the MPR I was more than a little confused as the attribute involved was listed in the ‘Target Resources’ list <strong><em>and</em></strong> when I attempted to edit the user the RCDC was being correctly displayed!</p><p>It was only when I went back a tab and checked the ‘Requests and Operations’ that I noticed what was causing the problem – while I’d set the MPR to grant permission and rights over the key attribute, what I’d neglected to do is set the rights to allow values to be added or removed to a multi-value attribute.</p><p><a href="http://identitytechnology.net/wp-content/uploads/2013/03/image3.png"><img loading="lazy" style="background-image: none; padding-left: 0px; padding-right: 0px; display: inline; padding-top: 0px; border: 0px;" title="image" alt="image" src="https://github.com/identity-jason/identech/media/posts/31/image_thumb3.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb3-xs.png 300w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb3-sm.png 480w, https://github.com/identity-jason/identech/media/posts/31/responsive/image_thumb3-md.png 768w" width="600" border="0"></a></p><p>It seems that even though the MPR doesn’t actually grant rights to manage a multi-valued attribute, the fact that I’d allowed a single-valued attribute to be edited combined with the correct attribute being listed in the target resources was enough to trick the RCDC into displaying and operating as though the user actually did hold permission to perform an update.</p><p>Fortunately this one’s an easy fix, but it was a fraught hour tracing everything through before I spotted it.</p></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on January 9, 2022</p><div class="post__share"><h3>Share post:</h3></div><div class="post__bio"><div><h3><a href="https://github.com/identity-jason/identech/authors/identity_jason/" class="invert" rel="author">identity_jason</a></h3></div></div></footer></article></div></div><div id="sidebar"><div class="inner"><nav id="menu"><header class="major"><h2>Menu</h2></header></nav><section><header class="major"><h2>Get in touch</h2></header><p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus,ac varius enim lorem ullamcorper dolore. Proin sed aliqu facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p><ul class="contact"><li class="icon solid fa-envelope"><a href="#">information@untitled.tld</a></li><li class="icon solid fa-phone">(000) 000-0000</li><li class="icon solid fa-home">1234 Somewhere Road #8254<br>Nashville, TN 00000-0000</li></ul></section><footer id="footer"><p class="copyright">&copy; Editorial 2 - All rights reserved<br>Design by: <a href="https://html5up.net" target="_blank" rel="noopener">HTML5 UP</a>, Powered by Publii</p></footer></div></div></div><script src="https://github.com/identity-jason/identech/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://github.com/identity-jason/identech/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://github.com/identity-jason/identech/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://github.com/identity-jason/identech/assets/js/util.min.js?v=cbdaf7c20ac2883c77ae23acfbabd47e"></script><script src="https://github.com/identity-jason/identech/assets/js/main.min.js?v=448f4c9d4b4c374766a1cb76c3d88048"></script><script>var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};</script></body></html>